<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Document</title>
</head>

<body></body>

<script>
	/*
		Initialize Scores
		Set humanScore to 0
		Set computerScore to 0
		
		Define Function playRound(humanChoice, computerChoice):
		    Convert both choices to lowercase
		    If humanChoice equals computerChoice:
		        Output "It's a tie!"
		    Else if humanChoice beats computerChoice:
		        Increase humanScore by 1
		        Output "You win!" with the winning choices
		    Else:
		        Increase computerScore by 1
		        Output "You lose!" with the winning choices
		    Output the current scores
		
		Define Function getComputerChoice():
		    Generate a random number between 0 and 1
		    If number < 1/3, return "rock"
		    Else if number < 2/3, return "paper"
		    Else return "scissors"
		
		Define Function getHumanChoice():
		    Prompt user for input: "Choose rock, paper, or scissors"
		    Return input converted to lowercase
		
		Define Function playGame():
		    Repeat 5 times:
		        Get humanChoice from user
		        Get computerChoice randomly
		        Call playRound(humanChoice, computerChoice)
		    After loop ends:
		        If humanScore > computerScore:
		            Output "You won the game!"
		        Else if computerScore > humanScore:
		            Output "The computer won the game!"
		        Else:
		            Output "It's a tie!"
		
		Call playGame() to start the game
	*/
	
	let humanScore = 0;
	let computerScore = 0;

	function playRound(humanChoice, computerChoice) {
		const human = humanChoice.toLowerCase();
		const computer = computerChoice.toLowerCase();
	
		if (human === computer) {
			console.log("It's a tie!");
		} else if (
			(human === "rock" && computer === "scissors") ||
			(human === "paper" && computer === "rock") ||
			(human === "scissors" && computer === "paper")
		) {
			humanScore++;
			console.log(
				`You win! ${human.charAt(0).toUpperCase() + human.slice(1)} beats ${computer}.`
			);
		} else {
			computerScore++;
			console.log(
				`You lose! ${computer.charAt(0).toUpperCase() + computer.slice(1)} beats ${human}.`
			);
		}
		
		console.log(`Human: ${humanScore} | Computer: ${computerScore}`);
	}

	function getComputerChoice() {
		const randomNumber = Math.random();
		if (randomNumber < 1 / 3) {
			return "rock";
		} else if (randomNumber < 2 / 3) {
			return "paper";
		} else {
			return "scissors";
		}
	}

	function getHumanChoice() {
		const userInput = prompt("Choose rock, paper, or scissors:");
		return userInput.toLowerCase();
	}

	function playGame() {
		for (let i = 0; i < 5; i++) {
			const human = getHumanChoice();
			const computer = getComputerChoice();

			playRound(human, computer);
		}

		if (humanScore > computerScore) {
			console.log("You won the game!");
		} else if (computerScore > humanScore) {
			console.log("The computer won the game!");
		} else {
			console.log("It's a tie!");
		}
	}

	playGame();

	console.log(`
Tests:
	test1 - ${(() => {
		// Human: rock, Computer: scissors => human wins
		const prevHuman = humanScore;
		const prevComputer = computerScore;
		playRound("rock", "scissors");
		return humanScore === prevHuman + 1 && computerScore === prevComputer;
	})()}
	
	test2 - ${(() => {
		// Human: rock, Computer: paper => computer wins
		const prevHuman = humanScore;
		const prevComputer = computerScore;
		playRound("rock", "paper");
		return computerScore === prevComputer + 1 && humanScore === prevHuman;
	})()}
	
	test3 - ${(() => {
		// Human: paper, Computer: paper => tie
		const prevHuman = humanScore;
		const prevComputer = computerScore;
		playRound("paper", "paper");
		return computerScore === prevComputer && humanScore === prevHuman;
	})()}
	
	test4 - ${(() => {
		// Check case insensitivity: Human: "Rock", Computer: "scissors"
		const prevHuman = humanScore;
		const prevComputer = computerScore;
		playRound("Rock", "scissors");
		return humanScore === prevHuman + 1 && computerScore === prevComputer;
	})()}
	
	test5 - ${(() => {
		// Unexpected input: Human: "fire", Computer: "rock"
		const prevHuman = humanScore;
		const prevComputer = computerScore;
		playRound("fire", "rock");
		// Should count as a loss since "fire" is invalid => no score change ideally, but your function adds to computerScore
		return computerScore === prevComputer + 1;
	})()}

	`);
</script>
</html>
